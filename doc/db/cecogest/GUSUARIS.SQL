--
-- Create Schema Script 
--   Database Version   : 9.2.0.6.0 
--   TOAD Version       : 9.7.0.51 
--   DB Connect String  : DES 
--   Schema             : GUSUARIS 
--   Script Created by  : CECOGEST 
--   Script Created at  : 05/02/2020 9:17:31 
--   Physical Location  :  
--   Notes              :  
--

-- Object Counts: 
--   Indexes: 51        Columns: 67         
--   Tables: 30         Columns: 243        Constraints: 58     
--   Views: 69          


CREATE TABLE GUSUARIS_FORM_HELP
(
  HLP_APPLN        VARCHAR2(30 BYTE)                NULL,
  HLP_INDEX        VARCHAR2(100 BYTE)               NULL,
  HLP_MODTAB_NAME  VARCHAR2(30 BYTE)                NULL,
  HLP_GENERATED    VARCHAR2(1 BYTE)                 NULL,
  HLP_SEQ          NUMBER(5)                        NULL,
  HLP_TEXT         VARCHAR2(70 BYTE)                NULL,
  HLP_TYPE         VARCHAR2(1 BYTE)                 NULL
)
;


CREATE TABLE GUSUARIS_REF_CODES
(
  RV_LOW_VALUE     VARCHAR2(240 BYTE)               NULL,
  RV_HIGH_VALUE    VARCHAR2(240 BYTE)               NULL,
  RV_ABBREVIATION  VARCHAR2(240 BYTE)               NULL,
  RV_DOMAIN        VARCHAR2(100 BYTE)               NULL,
  RV_MEANING       VARCHAR2(240 BYTE)               NULL,
  RV_TYPE          VARCHAR2(10 BYTE)                NULL
)
;







CREATE TABLE TGUS_APLICACIONS
(
  APL_COD     VARCHAR2(4 BYTE)                      NULL,
  APL_NOM     VARCHAR2(30 BYTE)                     NULL,
  APL_USUCRE  VARCHAR2(30 BYTE)                     NULL,
  APL_DATCRE  DATE                                  NULL,
  APL_USUMOD  VARCHAR2(30 BYTE)                     NULL,
  APL_DATMOD  DATE                                  NULL,
  APL_ACS     VARCHAR2(1 BYTE)                  DEFAULT 'S'                       NULL,
  APL_ACSPRN  VARCHAR2(1 BYTE)                  DEFAULT 'S'                       NULL
)
;


CREATE TABLE TGUS_CFGEML
(
  CFE_IDF_COD  VARCHAR2(4 BYTE)                     NULL,
  CFE_EMP_COD  VARCHAR2(4 BYTE)                     NULL,
  CFE_SEQ      NUMBER                               NULL,
  CFE_USU      VARCHAR2(60 BYTE)                    NULL,
  CFE_PWD      VARCHAR2(60 BYTE)                    NULL,
  CFE_SMTP     VARCHAR2(60 BYTE)                    NULL,
  CFE_PORT     NUMBER                               NULL,
  CFE_POP      VARCHAR2(60 BYTE)                    NULL,
  CFE_RNVCOP   VARCHAR2(60 BYTE)                    NULL,
  CFE_DEF      VARCHAR2(60 BYTE)                    NULL,
  CFE_USU_COD  VARCHAR2(30 BYTE)                    NULL,
  CFE_CLIEML   VARCHAR2(60 BYTE)                    NULL,
  CFE_ORD      NUMBER(2)                            NULL,
  CFE_EMAIL    VARCHAR2(100 BYTE)                   NULL
)
;


CREATE TABLE TGUS_IDIOMES
(
  IDI_COD     VARCHAR2(4 BYTE)                      NULL,
  IDI_NOM     VARCHAR2(30 BYTE)                     NULL,
  IDI_USUCRE  VARCHAR2(30 BYTE)                     NULL,
  IDI_DATCRE  DATE                                  NULL,
  IDI_USUMOD  VARCHAR2(30 BYTE)                     NULL,
  IDI_DATMOD  DATE                                  NULL
)
;


CREATE TABLE TGUS_MENU
(
  MEN_COD      VARCHAR2(60 BYTE)                    NULL,
  MEN_DES      VARCHAR2(200 BYTE)                   NULL,
  MEN_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  MEN_DATCRE   DATE                                 NULL,
  MEN_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  MEN_DATMOD   DATE                                 NULL,
  MEN_APL_COD  VARCHAR2(4 BYTE)                 DEFAULT NULL                      NULL
)
;


CREATE TABLE TGUS_OPCIO
(
  OPC_COD      VARCHAR2(60 BYTE)                    NULL,
  OPC_NOM      VARCHAR2(200 BYTE)                   NULL,
  OPC_APL_COD  VARCHAR2(4 BYTE)                     NULL,
  OPC_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  OPC_DATCRE   DATE                                 NULL,
  OPC_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  OPC_DATMOD   DATE                                 NULL
)
;


CREATE TABLE TGUS_OPCMENU
(
  OPM_SEQ      NUMBER                               NULL,
  OPM_MEN_COD  VARCHAR2(60 BYTE)                    NULL,
  OPM_CNS      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  OPM_INS      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  OPM_MOD      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  OPM_ELI      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  OPM_PRN      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  OPM_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  OPM_DATCRE   DATE                                 NULL,
  OPM_ORD      NUMBER(3)                            NULL,
  OPM_OPM_SEQ  NUMBER                               NULL,
  OPM_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  OPM_DATMOD   DATE                                 NULL,
  OPM_OPC_COD  VARCHAR2(60 BYTE)                    NULL
)
;


CREATE TABLE TGUS_PARAMETRES
(
  PAR_COD     VARCHAR2(15 BYTE)                     NULL,
  PAR_DATCRE  DATE                                  NULL,
  PAR_USUCRE  VARCHAR2(30 BYTE)                     NULL,
  PAR_VAL     VARCHAR2(100 BYTE)                    NULL,
  PAR_DES     VARCHAR2(200 BYTE)                    NULL,
  PAR_USUMOD  VARCHAR2(30 BYTE)                     NULL,
  PAR_DATMOD  DATE                                  NULL
)
;


CREATE TABLE TGUS_POL
(
  POL_SEQ     NUMBER(10)                            NULL,
  POL_NOM     VARCHAR2(30 BYTE)                     NULL,
  POL_DES     VARCHAR2(1000 BYTE)                   NULL,
  POL_TAU     VARCHAR2(15 BYTE)                     NULL,
  POL_POL     VARCHAR2(3000 BYTE)                   NULL,
  POL_PQT     VARCHAR2(20 BYTE)                     NULL,
  POL_USUCRE  VARCHAR2(30 BYTE)                     NULL,
  POL_DATCRE  DATE                                  NULL,
  POL_USUMOD  VARCHAR2(30 BYTE)                     NULL,
  POL_DATMOD  DATE                                  NULL,
  POL_ACT     VARCHAR2(1 BYTE)                      NULL,
  POL_OWN     VARCHAR2(100 BYTE)                    NULL
)
;


CREATE TABLE TGUS_PROGRAMES
(
  PRG_COD      VARCHAR2(60 BYTE)                    NULL,
  PRG_NOM      VARCHAR2(200 BYTE)                   NULL,
  PRG_APL_COD  VARCHAR2(4 BYTE)                     NULL,
  PRG_TIP      VARCHAR2(1 BYTE)                     NULL,
  PRG_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  PRG_DATCRE   DATE                                 NULL,
  PRG_NIV      NUMBER(5)                            NULL,
  PRG_NIVPRN   NUMBER(5)                            NULL,
  PRG_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  PRG_DATMOD   DATE                                 NULL,
  PRG_PRG_COD  VARCHAR2(30 BYTE)                    NULL,
  PRG_ORD      NUMBER(3)                            NULL
)
;


CREATE TABLE TGUS_ROLES
(
  ROL_COD      VARCHAR2(15 BYTE)                    NULL,
  ROL_APL_COD  VARCHAR2(4 BYTE)                     NULL,
  ROL_NOM      VARCHAR2(30 BYTE)                    NULL,
  ROL_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  ROL_DATCRE   DATE                                 NULL,
  ROL_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  ROL_DATMOD   DATE                                 NULL
)
;


CREATE GLOBAL TEMPORARY TABLE TGUS_TMP_MENU
(
  MNU_PRG_COD  VARCHAR2(60 BYTE)                    NULL,
  MNU_PRG_NOM  VARCHAR2(255 BYTE)                   NULL
)
ON COMMIT PRESERVE ROWS;


CREATE TABLE TGUS_TRAOPC
(
  TOP_OPC_COD  VARCHAR2(60 BYTE)                    NULL,
  TOP_IDI_COD  VARCHAR2(4 BYTE)                     NULL,
  TOP_NOM      VARCHAR2(200 BYTE)                   NULL,
  TOP_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  TOP_DATCRE   DATE                                 NULL,
  TOP_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  TOP_DATMOD   DATE                                 NULL
)
;


CREATE TABLE TGUS_USUARIS
(
  USU_COD      VARCHAR2(30 BYTE)                    NULL,
  USU_IDI_COD  VARCHAR2(4 BYTE)                     NULL,
  USU_NOM      VARCHAR2(30 BYTE)                    NULL,
  USU_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  USU_DATCRE   DATE                                 NULL,
  USU_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  USU_DATMOD   DATE                                 NULL,
  USU_EMLPWD   VARCHAR2(60 BYTE)                    NULL,
  USU_PAS      VARCHAR2(128 CHAR)                   NULL,
  USU_EML      VARCHAR2(128 CHAR)                   NULL
)
;


CREATE TABLE TGUS_USUARIS_VALIDACIONS
(
  USU_COD          VARCHAR2(30 BYTE)                NULL,
  USU_IDI_COD      VARCHAR2(4 BYTE)                 NULL,
  USU_NOM          VARCHAR2(30 BYTE)                NULL,
  USU_TKN          VARCHAR2(36 CHAR)                NULL,
  USU_EMLPWD       VARCHAR2(60 BYTE)                NULL,
  USU_PAS          VARCHAR2(128 CHAR)               NULL,
  USU_EML          VARCHAR2(128 CHAR)               NULL,
  USU_EXPIRY_DATE  TIMESTAMP(6)                 DEFAULT current_timestamp +  7     NULL,
  USU_DATMOD       DATE                             NULL,
  USU_USUCRE       VARCHAR2(30 BYTE)                NULL,
  USU_DATCRE       DATE                             NULL,
  USU_USUMOD       VARCHAR2(30 BYTE)                NULL,
  USU_LIN          VARCHAR2(60 BYTE)                NULL
)
;


CREATE INDEX IGUS_OPC_APL_FK ON TGUS_OPCIO
(OPC_APL_COD)
;


CREATE INDEX IGUS_OPM_MEN_FK ON TGUS_OPCMENU
(OPM_MEN_COD)
;


CREATE INDEX IGUS_OPM_OPM_FK ON TGUS_OPCMENU
(OPM_OPM_SEQ)
;


CREATE INDEX IGUS_OPM_PRG_FK ON TGUS_OPCMENU
(OPM_OPC_COD)
;


CREATE UNIQUE INDEX PAR_PK ON TGUS_PARAMETRES
(PAR_COD)
;



CREATE INDEX PRG_APL_FK_I ON TGUS_PROGRAMES
(PRG_APL_COD)
;




CREATE UNIQUE INDEX RGUS_IDI_PK ON TGUS_IDIOMES
(IDI_COD)
;


CREATE UNIQUE INDEX RGUS_MEN_PK ON TGUS_MENU
(MEN_COD)
;


CREATE UNIQUE INDEX RGUS_OPC_PK ON TGUS_OPCIO
(OPC_COD)
;


CREATE UNIQUE INDEX RGUS_OPM_PK ON TGUS_OPCMENU
(OPM_SEQ)
;


CREATE UNIQUE INDEX RGUS_POL_PK ON TGUS_POL
(POL_SEQ)
;


CREATE UNIQUE INDEX RGUS_POL_UK ON TGUS_POL
(POL_NOM)
;


CREATE UNIQUE INDEX RGUS_PRG_PK ON TGUS_PROGRAMES
(PRG_COD)
;


CREATE INDEX RGUS_PRG_PRG_FK ON TGUS_PROGRAMES
(PRG_PRG_COD)
;


CREATE UNIQUE INDEX RGUS_ROL_PK ON TGUS_ROLES
(ROL_COD)
;


CREATE UNIQUE INDEX RGUS_TOP_PK ON TGUS_TRAOPC
(TOP_OPC_COD, TOP_IDI_COD)
;


CREATE UNIQUE INDEX RGUS_USU_EML_UK ON TGUS_USUARIS
(USU_EML)
;


CREATE UNIQUE INDEX RGUS_USU_PK ON TGUS_USUARIS
(USU_COD)
;


CREATE UNIQUE INDEX RGUS_USU_VAL_EML_UK ON TGUS_USUARIS_VALIDACIONS
(USU_EML)
;


CREATE UNIQUE INDEX RGUS_USU_VAL_PK ON TGUS_USUARIS_VALIDACIONS
(USU_COD)
;


CREATE UNIQUE INDEX RMCE_APL_PK ON TGUS_APLICACIONS
(APL_COD)
;


CREATE INDEX ROL_APL_FK_I ON TGUS_ROLES
(ROL_APL_COD)
;


CREATE UNIQUE INDEX TGUS_CFGEML_PK ON TGUS_CFGEML
(CFE_IDF_COD, CFE_SEQ)
;


CREATE INDEX USU_IDI_FK_I ON TGUS_USUARIS
(USU_IDI_COD)
;


CREATE INDEX X_GUSUARIS_FORM_HELP_1 ON GUSUARIS_FORM_HELP
(HLP_INDEX, HLP_TYPE, HLP_APPLN, HLP_SEQ)
;


CREATE INDEX X_GUSUARIS_REF_CODES_1 ON GUSUARIS_REF_CODES
(RV_DOMAIN, RV_LOW_VALUE)
;






CREATE TABLE TGUS_MENUS
(
  MNU_ROL_COD  VARCHAR2(15 BYTE)                    NULL,
  MNU_PRG_COD  VARCHAR2(60 BYTE)                    NULL,
  MNU_ACS      VARCHAR2(1 BYTE)                 DEFAULT 'N'                       NULL,
  MNU_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  MNU_DATCRE   DATE                                 NULL,
  MNU_CNS      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  MNU_INS      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  MNU_MOD      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  MNU_ELI      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  MNU_PRN      VARCHAR2(1 BYTE)                 DEFAULT 'S'                       NULL,
  MNU_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  MNU_DATMOD   DATE                                 NULL
)
;


CREATE TABLE TGUS_MENUSU
(
  MUS_MEN_COD  VARCHAR2(30 BYTE)                    NULL,
  MUS_USU_COD  VARCHAR2(30 BYTE)                    NULL,
  MUS_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  MUS_DATCRE   DATE                                 NULL,
  MUS_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  MUS_DATMOD   DATE                                 NULL
)
;


CREATE TABLE TGUS_PASS_RESET
(
  PRT_TOKEN        VARCHAR2(36 CHAR)                NULL,
  PRT_USER_ID      VARCHAR2(30 CHAR)                NULL,
  PRT_EXPIRY_DATE  TIMESTAMP(6)                     NULL
)
;


CREATE TABLE TGUS_PRIVILEGIS
(
  PRI_USU_COD  VARCHAR2(30 BYTE)                    NULL,
  PRI_APL_COD  VARCHAR2(4 BYTE)                     NULL,
  PRI_PRI      NUMBER(3)                            NULL,
  PRI_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  PRI_DATCRE   DATE                                 NULL,
  PRI_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  PRI_DATMOD   DATE                                 NULL
)
;


CREATE TABLE TGUS_PRL
(
  PRL_ROL_COD  VARCHAR2(15 BYTE)                    NULL,
  PRL_POL_SEQ  NUMBER(10)                           NULL,
  PRL_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  PRL_DATCRE   DATE                                 NULL,
  PRL_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  PRL_DATMOD   DATE                                 NULL
)
;


CREATE TABLE TGUS_ROLES_USUARIS
(
  RUS_ROL_COD  VARCHAR2(15 BYTE)                    NULL,
  RUS_USU_COD  VARCHAR2(30 BYTE)                    NULL,
  RUS_USUCRE   VARCHAR2(30 BYTE)                    NULL,
  RUS_DATCRE   DATE                                 NULL,
  RUS_USUMOD   VARCHAR2(30 BYTE)                    NULL,
  RUS_DATMOD   DATE                                 NULL
)
;


CREATE INDEX IGUS_MUS_MEN_FK ON TGUS_MENUSU
(MUS_MEN_COD)
;


CREATE INDEX IGUS_MUS_USU_FK ON TGUS_MENUSU
(MUS_USU_COD)
;


CREATE INDEX IGUS_PRL_POL_FK ON TGUS_PRL
(PRL_POL_SEQ)
;


CREATE INDEX IGUS_PRL_ROL_FK ON TGUS_PRL
(PRL_ROL_COD)
;


CREATE INDEX MNU_PRG_FK_I ON TGUS_MENUS
(MNU_PRG_COD)
;


CREATE INDEX MNU_ROL_FK_I ON TGUS_MENUS
(MNU_ROL_COD)
;


CREATE INDEX PRI_APL_FK_I ON TGUS_PRIVILEGIS
(PRI_APL_COD)
;


CREATE INDEX PRI_USU_FK_I ON TGUS_PRIVILEGIS
(PRI_USU_COD)
;




CREATE UNIQUE INDEX RGUS_MNU_PK ON TGUS_MENUS
(MNU_ROL_COD, MNU_PRG_COD)
;


CREATE UNIQUE INDEX RGUS_MUS_PK ON TGUS_MENUSU
(MUS_MEN_COD, MUS_USU_COD)
;


CREATE UNIQUE INDEX RGUS_PRL_PK ON TGUS_PRL
(PRL_ROL_COD, PRL_POL_SEQ)
;


CREATE UNIQUE INDEX RGUS_PRT_PK ON TGUS_PASS_RESET
(PRT_TOKEN)
;


CREATE UNIQUE INDEX RGUS_RUS_PK ON TGUS_ROLES_USUARIS
(RUS_ROL_COD, RUS_USU_COD)
;


CREATE UNIQUE INDEX RMCE_PRI_PK ON TGUS_PRIVILEGIS
(PRI_USU_COD, PRI_APL_COD)
;


CREATE INDEX RUS_ROL_FK_I ON TGUS_ROLES_USUARIS
(RUS_ROL_COD)
;


CREATE INDEX RUS_USU_FK_I ON TGUS_ROLES_USUARIS
(RUS_USU_COD)
;



ALTER TABLE TGUS_APLICACIONS ADD (
  CONSTRAINT RMCE_APL_PK
 PRIMARY KEY
 (APL_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_CFGEML ADD (
  CONSTRAINT TGUS_CFGEML_PK
 PRIMARY KEY
 (CFE_IDF_COD, CFE_SEQ)
    USING INDEX 
    );

ALTER TABLE TGUS_IDIOMES ADD (
  CONSTRAINT RGUS_IDI_PK
 PRIMARY KEY
 (IDI_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_MENU ADD (
  CONSTRAINT RGUS_MEN_PK
 PRIMARY KEY
 (MEN_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_OPCIO ADD (
  CONSTRAINT RGUS_OPC_PK
 PRIMARY KEY
 (OPC_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_OPCMENU ADD (
  CONSTRAINT RGUS_OPM_PK
 PRIMARY KEY
 (OPM_SEQ)
    USING INDEX 
    );

ALTER TABLE TGUS_PARAMETRES ADD (
  CONSTRAINT RGUS_PAR_PK
 PRIMARY KEY
 (PAR_COD));

ALTER TABLE TGUS_POL ADD (
  CONSTRAINT RGUS_POL_PK
 PRIMARY KEY
 (POL_SEQ)
    USING INDEX 
    ,
  CONSTRAINT RGUS_POL_UK
 UNIQUE (POL_NOM)
    USING INDEX 
    );

ALTER TABLE TGUS_PROGRAMES ADD (
  CONSTRAINT RGUS_PRG_PK
 PRIMARY KEY
 (PRG_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_ROLES ADD (
  CONSTRAINT RGUS_ROL_PK
 PRIMARY KEY
 (ROL_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_TRAOPC ADD (
  CONSTRAINT RGUS_TOP_PK
 PRIMARY KEY
 (TOP_OPC_COD, TOP_IDI_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_USUARIS ADD (
  CONSTRAINT RGUS_USU_PK
 PRIMARY KEY
 (USU_COD)
    USING INDEX 
    ,
  CONSTRAINT RGUS_USU_EML_UK
 UNIQUE (USU_EML)
    USING INDEX 
    );

ALTER TABLE TGUS_USUARIS_VALIDACIONS ADD (
  CONSTRAINT RGUS_USU_VAL_PK
 PRIMARY KEY
 (USU_COD)
    USING INDEX 
    ,
  CONSTRAINT RGUS_USU_VAL_EML_UK
 UNIQUE (USU_EML)
    USING INDEX 
    );


ALTER TABLE TGUS_MENUS ADD (
  CONSTRAINT RGUS_MNU_PK
 PRIMARY KEY
 (MNU_ROL_COD, MNU_PRG_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_MENUSU ADD (
  CONSTRAINT RGUS_MUS_PK
 PRIMARY KEY
 (MUS_MEN_COD, MUS_USU_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_PASS_RESET ADD (
  CONSTRAINT RGUS_PRT_PK
 PRIMARY KEY
 (PRT_TOKEN)
    USING INDEX 
    );

ALTER TABLE TGUS_PRIVILEGIS ADD (
  CONSTRAINT RMCE_PRI_PK
 PRIMARY KEY
 (PRI_USU_COD, PRI_APL_COD)
    USING INDEX 
    );

ALTER TABLE TGUS_PRL ADD (
  CONSTRAINT RGUS_PRL_PK
 PRIMARY KEY
 (PRL_ROL_COD, PRL_POL_SEQ)
    USING INDEX 
    );

ALTER TABLE TGUS_ROLES_USUARIS ADD (
  CONSTRAINT RGUS_RUS_PK
 PRIMARY KEY
 (RUS_ROL_COD, RUS_USU_COD)
    USING INDEX 
    );


ALTER TABLE TGUS_MENU ADD (
  CONSTRAINT RGUS_MEN_APL_FK 
 FOREIGN KEY (MEN_APL_COD) 
 REFERENCES TGUS_APLICACIONS (APL_COD));

ALTER TABLE TGUS_OPCIO ADD (
  CONSTRAINT RGUS_OPC_APL_FK 
 FOREIGN KEY (OPC_APL_COD) 
 REFERENCES TGUS_APLICACIONS (APL_COD));

ALTER TABLE TGUS_OPCMENU ADD (
  CONSTRAINT RGUS_OPM_MEN_FK 
 FOREIGN KEY (OPM_MEN_COD) 
 REFERENCES TGUS_MENU (MEN_COD),
  CONSTRAINT RGUS_OPM_OPC_FK 
 FOREIGN KEY (OPM_OPC_COD) 
 REFERENCES TGUS_OPCIO (OPC_COD),
  CONSTRAINT RGUS_OPM_OPM_FK 
 FOREIGN KEY (OPM_OPM_SEQ) 
 REFERENCES TGUS_OPCMENU (OPM_SEQ));

ALTER TABLE TGUS_PROGRAMES ADD (
  CONSTRAINT RGUS_PRG_APL_FK 
 FOREIGN KEY (PRG_APL_COD) 
 REFERENCES TGUS_APLICACIONS (APL_COD),
  CONSTRAINT RGUS_PRG_PRG_FK 
 FOREIGN KEY (PRG_PRG_COD) 
 REFERENCES TGUS_PROGRAMES (PRG_COD));

ALTER TABLE TGUS_ROLES ADD (
  CONSTRAINT RMCE_ROL_APL_FK 
 FOREIGN KEY (ROL_APL_COD) 
 REFERENCES TGUS_APLICACIONS (APL_COD));

ALTER TABLE TGUS_TRAOPC ADD (
  CONSTRAINT RGUS_TOP_IDI_FK 
 FOREIGN KEY (TOP_IDI_COD) 
 REFERENCES TGUS_IDIOMES (IDI_COD),
  CONSTRAINT RGUS_TOP_OPC_FK 
 FOREIGN KEY (TOP_OPC_COD) 
 REFERENCES TGUS_OPCIO (OPC_COD));



ALTER TABLE TGUS_MENUS ADD (
  CONSTRAINT RGUS_MNU_PRG_FK 
 FOREIGN KEY (MNU_PRG_COD) 
 REFERENCES TGUS_PROGRAMES (PRG_COD),
  CONSTRAINT RGUS_MNU_ROL_FK 
 FOREIGN KEY (MNU_ROL_COD) 
 REFERENCES TGUS_ROLES (ROL_COD));

ALTER TABLE TGUS_MENUSU ADD (
  CONSTRAINT RGUS_MUS_MEN_FK 
 FOREIGN KEY (MUS_MEN_COD) 
 REFERENCES TGUS_MENU (MEN_COD),
  CONSTRAINT RGUS_MUS_USU_FK 
 FOREIGN KEY (MUS_USU_COD) 
 REFERENCES TGUS_USUARIS (USU_COD));

ALTER TABLE TGUS_PASS_RESET ADD (
  CONSTRAINT RGUS_PRT_USUARI_FK 
 FOREIGN KEY (PRT_USER_ID) 
 REFERENCES TGUS_USUARIS (USU_COD));

ALTER TABLE TGUS_PRIVILEGIS ADD (
  CONSTRAINT RMCE_PRI_APL_FK 
 FOREIGN KEY (PRI_APL_COD) 
 REFERENCES TGUS_APLICACIONS (APL_COD),
  CONSTRAINT RMCE_PRI_USU_FK 
 FOREIGN KEY (PRI_USU_COD) 
 REFERENCES TGUS_USUARIS (USU_COD));

ALTER TABLE TGUS_PRL ADD (
  CONSTRAINT RGUS_PRL_POL_FK 
 FOREIGN KEY (PRL_POL_SEQ) 
 REFERENCES TGUS_POL (POL_SEQ),
  CONSTRAINT RGUS_PRL_ROL_FK 
 FOREIGN KEY (PRL_ROL_COD) 
 REFERENCES TGUS_ROLES (ROL_COD));

ALTER TABLE TGUS_ROLES_USUARIS ADD (
  CONSTRAINT RGUS_RUS_USU_FK 
 FOREIGN KEY (RUS_USU_COD) 
 REFERENCES TGUS_USUARIS (USU_COD));

