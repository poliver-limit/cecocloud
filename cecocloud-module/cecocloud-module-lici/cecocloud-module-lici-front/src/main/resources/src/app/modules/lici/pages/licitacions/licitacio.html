<bng-form [config]="formConfig" [restapiService]="licitacionsService">
  <bng-custom-field name="codi" style="display: none;"></bng-custom-field>
  <mat-card>
    <mat-card-title>{{'resource.licitacio'|translate}}</mat-card-title>
    <mat-card-content>
      <ng-container *ngTemplateOutlet="fieldsCard1"></ng-container>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-title
      >{{'resource.licitacio.field.titolCardDoc'|translate}}</mat-card-title
    >
    <mat-card-content>
      <ng-container *ngTemplateOutlet="fieldsCard2"></ng-container>
    </mat-card-content>
  </mat-card>
  <mat-card>
    <mat-card-title
      >{{'resource.licitacio.field.nota'|translate}}</mat-card-title
    >
    <mat-card-content>
      <ng-container *ngTemplateOutlet="fieldsCard3"></ng-container>
    </mat-card-content>
  </mat-card>

  <!-- -------------------------------------------------------------------------- -->

  <ng-template #fieldsCard1>
    <table *ngIf="tLic.length" mat-table [dataSource]="tLic">
      <!-- Label Column -->
      <ng-container matColumnDef="label">
        <!-- <th mat-header-cell *matHeaderCellDef> Label </th> -->
        <td
          mat-cell
          *matCellDef="let element"
          style="width: 30%; font-weight: bold; background-color: #f4ecf7;"
        >
          {{element.label | translate}}
        </td>
      </ng-container>

      <!-- Descricio Column -->
      <ng-container matColumnDef="descripcio">
        <!-- <th mat-header-cell *matHeaderCellDef> Descricio </th> -->
        <td
          mat-cell
          *matCellDef="let element"
          style="width: 70%; padding-left: 1em;"
        >
          <a
            *ngIf="element.label == 'licitacio.camp.url'; else desc"
            href="{{element.descripcio}}"  target="_blank">
            {{element.descripcio}}
            </a>
          <ng-template #desc>
            {{element.descripcio}}
          </ng-template>
        </td>
      </ng-container>

      <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> -->
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </ng-template>

  <!-- -------------------------------------------------------------------------- -->

  <ng-template #fieldsCard2>
    <table *ngIf="tDocs.length" mat-table [dataSource]="tDocs">
      <!-- Tipus Column -->
      <ng-container matColumnDef="nom">
        <th
          mat-header-cell
          *matHeaderCellDef
          style="font-weight: bold; font-size: large;"
        >
          Nombre
        </th>
        <td mat-cell *matCellDef="let element" style="width: 50%;">
          {{element.nom}}
        </td>
      </ng-container>

      <!-- Nom Column -->
      <ng-container matColumnDef="tipus">
        <th
          mat-header-cell
          *matHeaderCellDef
          style="font-weight: bold; font-size: large;"
        >
          Tipo
        </th>
        <td mat-cell *matCellDef="let element" style="width: 50%; ">
          {{element.tipus}}
        </td>
      </ng-container>

      <!-- Descargar Column -->
      <ng-container matColumnDef="uri">
        <th
          mat-header-cell
          *matHeaderCellDef
          style="font-weight: bold; font-size: large;"
        >
          Descargar
        </th>
        <td
          mat-cell
          *matCellDef="let element"
          style="width: 50%; padding-left: 1em;"
        >
          <a href="{{element.uri}}">
           Descargar
          </a>
        </td>       
       
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsDoc"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsDoc;"></tr>
    </table>
  </ng-template>

  <!-- -------------------------------------------------------------------------- -->

  <ng-template #fieldsCard3>
    <textarea
      ng-model="myTextarea"
      style="resize: none;width: 100%;"
    ></textarea>
  </ng-template>
</bng-form>
